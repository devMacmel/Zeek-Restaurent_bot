<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
    <h2 class="text-center text-xl font-bold my-4">Live Bookings</h2>
    <table class="min-w-full bg-white mx-auto rounded shadow">
        <thead><tr><th>ID</th><th>Phone</th><th>Name</th><th>Date</th><th>Time</th><th>People</th><th>Paid</th></tr></thead>
        <tbody id="bookingTable"></tbody>
    </table>

    <script>
        function loadBookings() {
            fetch('/admin_data')
            .then(res => res.json())
            .then(data => {
                let rows = '';
                data.forEach(b => {
                    rows += `<tr><td>${b[0]}</td><td>${b[1]}</td><td>${b[2]}</td><td>${b[3]}</td><td>${b[4]}</td><td>${b[5]}</td><td>${b[6]}</td></tr>`;
                });
                document.getElementById('bookingTable').innerHTML = rows;
            });
        }
        setInterval(loadBookings, 5000);
        loadBookings();
    </script>
</body>
</html>
